!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";var n=function(){function t(t,e){this.t=[],this.e=!1,this.n=!1,this.i=!1,this.o=e||this,t(this.s.bind(this),this.r.bind(this))}return t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){var n=!1;return new t(function(t,i){e.forEach(function(e){e.then(function(e){n||(t(e),n=!0)}).catch(function(t){i(t),n=!0})})})},t.chain=function(e){var n,i=0,o=[],s=function(t){i===e.length?n(o):t.then(function(t){o.push(t),i++,s(e[i])})};return new t(function(t){n=t,s(e[i])})},t.all=function(e){return new t(function(t,n){var i=e.length,o=[],s=!1;e.forEach(function(e,c){e.then(function(e){s||(i--,o[c]=e,0===i&&t(o))}).catch(function(t){n(t),s=!0})})})},t.prototype.done=function(t,e){this.i?setTimeout(this.u.bind(this,t,e),0):this.t.push({onSuccess:t,onFail:e})},t.prototype.then=function(e,n){var i=this;return new t(function(t,o){i.done(function(n){if("function"==typeof e)try{n=e.apply(i.o,[n])}catch(t){return void o(t)}t(n)},function(e){if("function"==typeof n){try{e=n.apply(i.o,[e])}catch(t){return void o(t)}t(e)}else o(e)})},i.o)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.u=function(t,e){this.e?e(this.f):t(this.f)},t.prototype.s=function(e){this.n||(this.n=!0,e instanceof t?e.done(this.h.bind(this),function(t){this.e=!0,this.h(t)}.bind(this)):this.h(e))},t.prototype.r=function(t){this.n||(this.n=!0,this.e=!0,this.h(t))},t.prototype.h=function(t){this.i=!0,this.f=t,setTimeout(this.t.forEach.bind(this.t,function(t){this.u(t.onSuccess,t.onFail)},this),0)},t}();e.TSPromise=n}])});